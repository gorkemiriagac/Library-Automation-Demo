@using Library.WebUI.Dtos.BookDtos
@model List<ResultBookDtos>

<div class="container-fluid bg-danger authorpg">
	<div class="row">
		
		<div class="col-md-12 adminbook">
			<div class="head text-center">
				<h1 class="text-center">Book Panel</h1>
				<a href="/Book/CreateBook"class="btn btn-success my-2">Add New Book</a>
			</div>


			<table class="table table-bordered table-striped text-center">
				<thead>
					<tr>
						<th scope="col">Book ID</th>
						<th scope="col">Book Name</th>
						<th scope="col">Author Name</th>
						<th scope="col">Book Piece</th>
						<th scope="col">Buttons</th>

					</tr>
				</thead>
				<tbody>

					@foreach (var item in Model)
					{
						<tr>
							<th scope="row">@item.BookId</th>
							<td>@item.BookName</td>
							<td>@item.Author.FullName</td>
							<td>@item.Piece</td>

							<td>

								<a asp-action="UpdateBook" asp-route-id="@item.BookId" class="btn btn-info">Update</a>
								
									
									<button onclick="deleteBook(@item.BookId)" class="btn btn-danger">Delete</button>
								
							</td>


						</tr>
					}
				</tbody>
			</table>
		</div>
	</div>
</div>
<script>
	function deleteBook(id){

		Swal.fire({
			title:"Silmek istediğine emin misin?",
			text: "geri alamazsın",
			icon:"warning",
			showCancelButton:true,
			confirmButtonColor:"#3085d6",
			cancelButtonColor:"#d33",
			confirmButtonText:"Evet, silmek istiyorum",
			cancelButtonText:"Hayır, silme"
		}).then((result)=>{
			if(result.isConfirmed){
				window.location.href = "/Book/DeleteBook/" + id;
			}
		});
	}
</script>